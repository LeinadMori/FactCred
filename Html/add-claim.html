<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Claim - FactCred</title>
  <link rel="stylesheet" href="/Styles/dashboard.css">
  <link rel="stylesheet" href="/Styles/add-claim.css"">
  <link rel="icon" href="/images/icon.png" type="image/png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="dashboard">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <img src="/images/icon.png" alt="FactCred Logo" />
        <h4>FactCred</h4>
      </div>
      <nav>
        <ul id="category-list">
          <li><i class="fas fa-landmark"></i> Politics</li>
          <li><i class="fas fa-heartbeat"></i> Health</li>
          <li><i class="fas fa-microchip"></i> Technology</li>
          <li><i class="fas fa-graduation-cap"></i> Education</li>
          <li><i class="fas fa-futbol"></i> Sports</li>

          <div class="claim" data-category="Politics"></div>
          <div class="claim" data-category="Health"></div>
          <div class="claim" data-category="Technology"></div>
          <div class="claim" data-category="Education"></div>
          <div class="claim" data-category="Sports"></div>

          <li>üè† Dashboard</li>
          <li>üìä Stats</li>
          <a href="add-claim.html"><i class="fas fa-home"></i>Add Claim</a>
          <li>‚ûï Add Claim</li>
          <a href="./login.html">üë§ Account / Login</a>
          <li class="settings-dropdown">
            <button class="dropdown-btn">‚öôÔ∏è Settings</button>
            <div class="dropdown-content">
              <label>üåó Theme:
                <select id="theme-select">
                  <option value="light">Light</option>
                  <option value="dark">Dark</option>
                </select>
              </label>
      
              <label>üî† Font Size:
                <select id="font-size-select">
                  <option value="16px">Default</option>
                  <option value="18px">Large</option>
                  <option value="20px">Extra Large</option>
                </select>
              </label>
      
              <label>üé® Color Theme:
                <input type="color" id="theme-color" value="#4CAF50" />
              </label>
      
              <label>üåç Language:
                <select id="language-select">
                  <option value="en">English</option>
                  <option value="fr">Fran√ßais</option>
                  <option value="es">Espa√±ol</option>
                </select>
              </label>
            </div>
          </li>
        </ul>
      </nav>      
    </aside>

    <!-- Main Columns -->
    <main class="main">
      <!-- Left Panel -->
      <section class="left-panel">
        <div class="search-section">
          <div class="search-bar">
            <input type="text" id="search" placeholder="Search claims..." />
          </div>
          <div class="filter-buttons">
            <h3>Filters</h3>
            <button>All</button>
            <button class="true">True</button>
            <button class="false">False</button>
            <button class="partial">Partially True</button>
          </div>
        </div>
      </section>

      <!-- Middle Panel -->
      <section class="middle-panel">
        <header class="main-header">
          <div class="logo">
            <img src="/images/icon.png" alt="FactCred Logo" class="logo-img">
            <span>FactCred</span>
          </div>
          <nav>
            <a href="index.html"><i class="fas fa-home"></i> Home</a>
            <a href="submit.html"><i class="fas fa-plus-circle"></i> Submit Claim</a>
            <a href="about.html"><i class="fas fa-info-circle"></i> About</a>
            <a href="contact.html"><i class="fas fa-envelope"></i> Contact</a>
          </nav>
        </header>

        <div class="claim-card false">
          <h4>COVID-19 vaccines cause infertility</h4>
          <p class="verdict">‚ùå False</p>
          <button class="expand-btn">See Explanation</button>
          <div class="explanation">
            <p>There is no scientific evidence linking COVID-19 vaccines to infertility...</p>
            <small>Sources: WHO, CDC</small>
          </div>
        </div>

        <div class="claim-card true">
          <h4>The Earth orbits the Sun</h4>
          <p class="verdict">‚úÖ True</p>
          <button class="expand-btn">See Explanation</button>
          <div class="explanation">
            <p>This is basic astronomical fact proven for centuries.</p>
            <small>Sources: NASA, Britannica</small>
          </div>
        </div>
      </section>

      <!-- Right Panel -->
      <!-- Column 3: Details/Preview -->
<section class="right-panel">
  <div class="container">
    <header>
      <h2><i class="fas fa-plus-circle"></i> Submit a Claim</h2>
      <p>Provide details about the claim you want to verify.</p>
    </header>

    <form id="claimForm" class="claim-form">
      <label for="title">Claim Title:</label>
      <input type="text" id="title" placeholder="Enter claim title..." required>

      <label for="category">Category:</label>
      <select id="category" required>
        <option value="">-- Select Category --</option>
        <option value="politics">Politics</option>
        <option value="health">Health</option>
        <option value="technology">Technology</option>
        <option value="education">Education</option>
        <option value="sports">Sports</option>
      </select>

      <label for="description">Claim Description:</label>
      <textarea id="description" rows="5" placeholder="Explain the claim..." required></textarea>

      <label for="source">Source (optional):</label>
      <input type="url" id="source" placeholder="https://example.com">

      <button type="submit"><i class="fas fa-paper-plane"></i> Submit Claim</button>
    </form>
  </div>

  <!-- ‚úÖ Confirmation Modal -->
  <div id="successModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <i class="fas fa-check-circle success-icon"></i>
      <h3>Claim Submitted Successfully!</h3>
      <p>Your claim has been recorded and will be reviewed shortly.</p>
    </div>
  </div>
   <!-- Mark as Reviewed (for moderators) -->
    </section>
    </main>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("claimForm");
  const modal = document.getElementById("successModal");
  const closeBtn = document.querySelector(".close");

  form.addEventListener("submit", function (e) {
    e.preventDefault(); // Stop actual form submit (since no backend yet)
    
    // ‚úÖ Show modal
    modal.style.display = "flex";

    // ‚úÖ Reset form fields
    form.reset();
  });

  // Close modal on click X
  closeBtn.addEventListener("click", () => {
    modal.style.display = "none";
  });

  // Close modal if user clicks outside
  window.addEventListener("click", (e) => {
    if (e.target === modal) {
      modal.style.display = "none";
    }
  });
});

// Dummy data
const claimsData = {
    Politics: [
      { title: "Election 2025 results disputed", source: "BBC News" },
      { title: "New reforms announced by parliament", source: "Reuters" }
    ],
    Health: [
      { title: "New malaria vaccine shows 90% effectiveness", source: "WHO" },
      { title: "Nigeria increases healthcare budget", source: "Healthline" }
    ],
    Technology: [
      { title: "AI revolution reshaping Africa‚Äôs startups", source: "TechCrunch" },
      { title: "5G rollout continues across West Africa", source: "CNN Tech" }
    ],
    Education: [
      { title: "University fees slashed by 20%", source: "The Guardian" },
      { title: "Schools adopt e-learning platforms", source: "EdTech Africa" }
    ],
    Sports: [
      { title: "Super Eagles qualify for World Cup", source: "ESPN" },
      { title: "Kenya dominates long-distance running again", source: "BBC Sport" }
    ]
  };

  // Handle click event
  document.querySelectorAll("#category-list li").forEach(item => {
    item.addEventListener("click", () => {
      const category = item.getAttribute("data-category");
      const container = document.getElementById("claims-container");

      // Clear old content
      container.innerHTML = `<h3>${category} Claims</h3>`;

      // Load new claims
      claimsData[category].forEach(claim => {
        const div = document.createElement("div");
        div.classList.add("claim-card");
        div.innerHTML = `
          <h4>${claim.title}</h4>
          <p><strong>Source:</strong> ${claim.source}</p>
        `;
        container.appendChild(div);
      });
    });
  });


    document.addEventListener('DOMContentLoaded', function () {
      const dropdownBtn = document.querySelector('.dropdown-btn');
      const dropdownContent = document.querySelector('.dropdown-content');
  
      dropdownBtn.addEventListener('click', function (e) {
        e.stopPropagation(); // Prevent closing when clicking the button again
        dropdownContent.style.display =
          dropdownContent.style.display === 'block' ? 'none' : 'block';
      });
  
      // Close dropdown when clicking outside
      document.addEventListener('click', function () {
        dropdownContent.style.display = 'none';
      });
    });


    // Expand Explanation toggle
  document.querySelectorAll('.expand-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const explanation = btn.nextElementSibling;
      explanation.classList.toggle('show');
    });
  });

  const searchInput = document.getElementById("search");
  const filterButtons = document.querySelectorAll("[data-filter]");
  const claimsContainer = document.getElementById("claimsContainer");

  let currentFilter = "all";
  let currentSearch = "";

  function renderClaims() {
    const allClaims = claimsContainer.querySelectorAll(".claim-card");

    let hasVisible = false;

    allClaims.forEach(card => {
      const text = card.querySelector("h4").textContent.toLowerCase();
      const status = card.classList.contains("true")
        ? "true"
        : card.classList.contains("false")
        ? "false"
        : "partial";

      const matchesSearch = text.includes(currentSearch.toLowerCase());
      const matchesFilter = currentFilter === "all" || currentFilter === status;

      if (matchesSearch && matchesFilter) {
        card.style.display = "block";
        hasVisible = true;
      } else {
        card.style.display = "none";
      }
    });

    // Show "not found" message if none are visible
    const noMatchMessageId = "no-match-msg";
    let noMatchMessage = document.getElementById(noMatchMessageId);

    if (!hasVisible) {
      if (!noMatchMessage) {
        noMatchMessage = document.createElement("p");
        noMatchMessage.id = noMatchMessageId;
        noMatchMessage.textContent = "No matching claims found.";
        noMatchMessage.style.color = "red";
        noMatchMessage.style.marginTop = "1rem";
        claimsContainer.appendChild(noMatchMessage);
      }
    } else {
      if (noMatchMessage) noMatchMessage.remove();
    }
  }

  // Handle filter button clicks
  filterButtons.forEach(button => {
    button.addEventListener("click", () => {
      currentFilter = button.getAttribute("data-filter");
      renderClaims();
    });
  });

  // Handle search input
  searchInput.addEventListener("input", e => {
    currentSearch = e.target.value;
    renderClaims();
  });

  // Initial display
  renderClaims();yyyyyyyyy

  document.addEventListener('DOMContentLoaded', () => {
    const filterItems = document.querySelectorAll('.category-nav li');
    const claims = document.querySelectorAll('.claim');

    filterItems.forEach(item => {
      item.addEventListener('click', () => {
        const category = item.getAttribute('data-filter');

        claims.forEach(claim => {
          const claimCategory = claim.getAttribute('data-category');

          if (category === 'All' || claimCategory === category) {
            claim.style.display = 'block';
          } else {
            claim.style.display = 'none';
          }
        });
      });
    });
  });
</script>
</body>
</html>